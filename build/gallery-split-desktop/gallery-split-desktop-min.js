YUI.add("gallery-split-desktop",function(ab){var ae="px",D="#",I="HTML",K="width",aA="height",s="backgroundImage",d="backgroundPosition",Q="assets/",x="/gallery-split-desktop/",J="gallery-split-desktop",av="enter",v="drag",Z="close",aC="open",ai="Main",n="init",ax="start",C="end",i="Crown",aw="NE",am="NW",t=960,V=150,al=700,l=30,aF="drag-here.png",aD=Q+aF,ak=162,M=7,q="center-handle.png",ad=null,f="handle",N="ea_",W='id="',F='" ',c="<img ",E='src="',y='" ',b="/>",P=' class="sdt-active" ',a=D+"99cccc",ac="pix-blue.gif",aq=ac,aa={wrapper:"page_wrapper",crown:"crown",nw:"nw",nwbody:"body_nw",ne:"ne",borders:"borders",nebody:"body_ne",main:"main"},az="pageWidth",ay="bordersColor",U="dragHereImg",G="pathToImages",aj="borderPixImg",af="handleImg",r="dragHereLeft",B="dragHereTop",at="mainHeight",R="crownHeight",ar="isDragging",j="prefix",an="closeCrownHeight",ag="closeNWWidth",u="closeNEWidth",au="isCloseCrown",o="isCloseNW",A="isCloseNE",aE=D+N+aa.ne,p=D+N+aa.nwbody,m=D+N+aa.main,ap=D+N+aa.wrapper,e=null,X=null,ah=null,S=false,z=0,H=0,L=0,T=0,ao=5,O=null,aB=null,k=null;function g(h){g.superclass.constructor.apply(this,arguments);}g.NAME="splitDesktop";g.ATTRS={boundingBox:{value:I},contentBox:{value:"page_wrapper"},pageWidth:{value:t+ae},bodyHeight:{value:al+ae},dragHereImg:{value:aF},pathToImages:{value:Q},pathToStyles:{value:Q},pointerLeftPos:{value:ak+ae},pointerTopPos:{value:M+ae},handleImage:{value:q},handleId:{value:f},dragHereImgPath:{value:aD},defaultPrefix:{value:N},mainDivId:{value:aa.main},bordersColor:{value:a},borderPixImg:{value:aq},handleImg:{value:q},dragHereLeft:{value:ak+ae},dragHereTop:{value:M+ae},mainHeight:{value:al+ae},crownHeight:{value:l+ae,setter:"_setCrownHeight"},prefix:{value:N},baseUrl:{getter:"_getBaseUrl",lazyAdd:false},isDragging:{value:false},closeCrownHeight:{value:40,validator:"_validateCloseCrownHeight"},closeNWWidth:{value:30,validator:"_validateCloseNwWidth"},closeNEWidth:{value:30,validator:"_validateCloseNeWidth"},isCloseCrown:{value:false},isCloseNW:{value:false},isCloseNE:{value:false}};ab.extend(g,ab.Widget,{initializer:function(aG){var aJ=this.get("baseUrl"),Y,w=aJ+Q+q,aH,h,aI;ad=c+W+N+f+F+P+E+w+y+b;this.resizerNode=ab.one(aE);X=ab.Node.create(ad,this.resizerNode);this.resizerNode.append(X);this.secondaryNode=ab.one(p);for(Y in aG){if(aG.hasOwnProperty(Y)){switch(Y){case az:t=this.get(Y);aH=t-V;h=t+21;ab.one(D+N+aa.wrapper).setStyle("width",t+ae);ab.one(D+N+aa.ne).setStyle("width",aH+ae);ab.one(D+N+aa.main).setStyle("width",h+ae);break;case ay:aI=this.get(ay);ab.one(D+N+aa.borders).setStyle("borderLeftColor",aI).setStyle("borderBottomColor",aI);ab.one(D+N+aa.wrapper).setStyle("borderColor",aI);break;case U:case G:case aj:case af:aD=this.get(G)+this.get(U);ab.one(D+N+aa.main).setStyle(s,'url("'+aD+'")');if(Y===aj||Y===G){aq=this.get(G)+this.get(aj);ab.one(D+N+aa.nw).setStyle(s,'url("'+aq+'")');}if(Y===af||Y===G){N=this.get(j);w=this.get(G)+this.get(af);ad=c+W+N+f+F+P+E+w+y+b;}break;case r:N=this.get(j);ab.one(D+N+aa.main).setStyle(d,this.get(r)+ae+" "+this.get(B)+ae);break;case B:N=this.get(j);ab.one(D+N+aa.main).setStyle(d,this.get(r)+ae+" "+this.get(B)+ae);break;case at:N=this.get(j);ab.one(D+N+aa.main).setStyle(aA,this.get(at)+ae);break;case R:N=this.get(j);ab.one(D+N+aa.ne).setStyle(aA,this.get(R)+ae);break;case j:N=this.get(j);aE=D+N+aa.ne;p=D+N+aa.nwbody;m=D+N+aa.main;ap=D+N+aa.wrapper;ad=c+W+N+f+F+P+E+w+y+b;break;}}}this.publish(av+ai,{bubbles:true,broadcast:2});this.publish(av+aw,{bubbles:true,broadcast:2});this.publish(av+am,{bubbles:true,broadcast:2});this.publish(v+n,{});this.publish(v+ax,{});this.publish(v+C,{});this.publish(Z+aw,{});this.publish(Z+am,{});this.publish(Z+i,{});this.publish(aC+i,{});this.publish(aC+aw,{});this.publish(aC+am,{});this._over=function(aK){switch(D+aK.currentTarget.get("id")){case p:if(!this.get(ar)){this.fire(av+am);}break;case aE:if(!this.get(ar)){this.fire(av+aw);}break;case m:if(!this.get(ar)){this.fire(av+ai);}break;}};this._out=function(aK){return;};ab.one(ap).delegate("hover",this._over,this._out,".sdt-active",this);},renderUI:function(){ah=new ab.DD.Drag({node:D+N+f});ah.plug(ab.Plugin.DDConstrained,{constrain2node:ap});},bindUI:function(){ah.on("drag:start",this._onDragStart,this);ah.on("drag:drag",this._onDragDrag,this);ah.on("drag:end",this._onDragEnd,this);},syncUI:function(){ab.one(I).setStyle("display","block");},_onDragStart:function(h){e=ab.one(m);this.set(ar,true);switch(S){case false:this.fire(v+n);e.setStyle(s,"none");case true:this.fire(v+ax);T=parseInt(this.resizerNode.getStyle(aA).toString().replace(ae,""),10);L=parseInt(this.resizerNode.getStyle(K).toString().replace(ae,""),10);S=true;break;}},_onDragDrag:function(Y){var w=parseInt(Y.info.offset[0],10),h=parseInt(Y.info.offset[1],10);z=L-w;H=T+h;if(!aB){aB=this.get(az)-6-this.get(ag);}if(!O){O=this.get(u);}if(!k){k=this.get(an);}this._isPaneClosed(o,am,aB,z,true);this._isPaneClosed(A,aw,O,z,false);this._isPaneClosed(au,i,k,H,false);this.resizerNode.setStyle(K,z);this.resizerNode.setStyle(aA,H);this.secondaryNode.setStyle(K,t-z+ao+ae);this.secondaryNode.setStyle(aA,H+ae);},_onDragEnd:function(h){this.fire(v+C);this.set(ar,false);this._repositionHandle();},_getBaseUrl:function(){var h;if(ab.config.modules){if(ab.config.modules[J]){if(ab.config.modules[J].gallery){return ab.Env.base+ab.config.modules[J].gallery+"/build/gallery-split-desktop/";}else{if(ab.config.modules[J].fullpath){h=ab.config.modules[J].fullpath;return h.substring(0,h.lastIndexOf("/")+1);}else{if(ab.config.modules.base){return ab.config.modules.base;}}}}}else{if(ab.config.gallery){return ab.Env.base+ab.config.gallery+"/build/gallery-split-desktop/";}else{if(ab.config.fullpath){h=ab.config.fullpath;return h.substring(0,h.lastIndexOf("/")+1);}else{return x;}}}},_getMain:function(){return ab.one(m);},_getSecondary:function(){return ab.one(p);},_getResizer:function(){return ab.one(aE);},_validateCloseCrownHeight:function(h){return(h>=this.get(R));},_validateCloseNWWidth:function(h){return(h>=0&&h<=parseInt(this.get(az).replace(ae,""),10)/4);
},_validateCloseNEWidth:function(h){return(h>=0&&h<=parseInt(this.get(az).replace(ae,""),10)/4);},_isPaneClosed:function(w,h,Y,aH,aG){if(!this.get(w)){if(this._evalLimits(Y<=aH,aG)){this.set(w,true);this.fire(Z+h);}}else{if(this._evalLimits(Y>aH,aG)){this.set(w,false);this.fire(aC+h);}}},_evalLimits:function(h,w){return w?h:!h;},_setCrownHeight:function(h){N=this.get(j);ab.one(D+N+aa.ne).setStyle(aA,h+ae);this._repositionHandle(h);},_repositionHandle:function(h){X.setStyle("left","0px");if(h){this.secondaryNode.setStyle(aA,h+ae);}X.setStyle("bottom","0px");X.setStyle("top","");}});ab.namespace("Widget").SplitDesktop=g;},"@VERSION@",{requires:["widget","dd-constrain","event-hover"]});