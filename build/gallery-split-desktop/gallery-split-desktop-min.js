YUI.add("gallery-split-desktop",function(ab){var ae="px",D="#",I="HTML",K="width",aA="height",s="backgroundImage",d="backgroundPosition",P="assets/",x="/gallery-split-desktop/",J="gallery-split-desktop",av="enter",v="drag",Z="close",aC="open",ai="Main",n="init",ax="start",C="end",i="Crown",aw="NE",am="NW",t=960,U=150,al=700,l=30,aG="drag-here.png",aD=P+aG,ak=162,M=7,q="center-handle.png",ad=null,f="handle",N="ea_",W='id="',F='" ',c="<img ",E='src="',y='" ',b="/>",a=D+"99cccc",ac="pix-blue.gif",aq=ac,aa={wrapper:"page_wrapper",crown:"crown",nw:"nw",nwbody:"body_nw",ne:"ne",borders:"borders",nebody:"body_ne",main:"main"},az="pageWidth",ay="bordersColor",T="dragHereImg",G="pathToImages",aj="borderPixImg",af="handleImg",r="dragHereLeft",B="dragHereTop",at="mainHeight",R="crownHeight",ar="isDragging",j="prefix",an="closeCrownHeight",ag="closeNWWidth",u="closeNEWidth",au="isCloseCrown",o="isCloseNW",A="isCloseNE",aF=D+N+aa.ne,p=D+N+aa.nwbody,m=D+N+aa.main,ap=D+N+aa.wrapper,V=null,aE=null,e=null,X=null,ah=null,Q=false,z=0,H=0,L=0,S=0,ao=5,O=null,aB=null,k=null;function g(h){g.superclass.constructor.apply(this,arguments);}g.NAME="splitDesktop";g.ATTRS={boundingBox:{value:I},contentBox:{value:"page_wrapper"},pageWidth:{value:t+ae},bodyHeight:{value:al+ae},dragHereImg:{value:aG},pathToImages:{value:P},pathToStyles:{value:P},pointerLeftPos:{value:ak+ae},pointerTopPos:{value:M+ae},handleImage:{value:q},handleId:{value:f},dragHereImgPath:{value:aD},defaultPrefix:{value:N},mainDivId:{value:aa.main},bordersColor:{value:a},borderPixImg:{value:aq},markupIsValidated:{value:null},handleImg:{value:q},dragHereLeft:{value:ak+ae},dragHereTop:{value:M+ae},mainHeight:{value:al+ae},crownHeight:{value:l+ae,setter:"_setCrownHeight"},prefix:{value:N},baseUrl:{getter:"_getBaseUrl",lazyAdd:false},isDragging:{value:false},closeCrownHeight:{value:40,validator:"_validateCloseCrownHeight"},closeNWWidth:{value:30,validator:"_validateCloseNwWidth"},closeNEWidth:{value:30,validator:"_validateCloseNeWidth"},isCloseCrown:{value:false},isCloseNW:{value:false},isCloseNE:{value:false}};ab.extend(g,ab.Widget,{initializer:function(aH){var aK=this.get("baseUrl"),Y,w=aK+P+q;ad=c+W+N+f+F+E+w+y+b;for(Y in aH){if(aH.hasOwnProperty(Y)){switch(Y){case az:t=this.get(Y);var aI=t-U;var h=t+21;ab.one(D+N+aa.wrapper).setStyle("width",t);ab.one(D+N+aa.ne).setStyle("width",aI);ab.one(D+N+aa.main).setStyle("width",h);break;case ay:var aJ=this.get(ay);ab.one(D+N+aa.borders).setStyle("borderLeftColor",aJ).setStyle("borderBottomColor",aJ);ab.one(D+N+aa.wrapper).setStyle("borderColor",aJ);break;case T:case G:case aj:case af:aD=this.get(G)+this.get(T);ab.one(D+N+aa.main).setStyle(s,'url("'+aD+'")');if(Y===aj||Y===G){aq=this.get(G)+this.get(aj);ab.one(D+N+aa.nw).setStyle(s,'url("'+aq+'")');}if(Y===af||Y===G){N=this.get(j);w=this.get(G)+this.get(af);ad=c+W+N+f+F+E+w+y+b;}break;case r:N=this.get(j);ab.one(D+N+aa.main).setStyle(d,this.get(r)+ae+" "+this.get(B)+ae);break;case B:N=this.get(j);ab.one(D+N+aa.main).setStyle(d,this.get(r)+ae+" "+this.get(B)+ae);break;case at:N=this.get(j);ab.one(D+N+aa.main).setStyle(aA,this.get(at)+ae);break;case R:N=this.get(j);ab.one(D+N+aa.ne).setStyle(aA,this.get(R)+ae);break;case j:N=this.get(j);aF=D+N+aa.ne;p=D+N+aa.nwbody;m=D+N+aa.main;ap=D+N+aa.wrapper;ad=c+W+N+f+F+E+w+y+b;break;}}}this.publish(av+ai,{bubbles:true,broadcast:2});this.publish(av+aw,{bubbles:true,broadcast:2});this.publish(av+am,{bubbles:true,broadcast:2});this.publish(v+n,{});this.publish(v+ax,{});this.publish(v+C,{});this.publish(Z+aw,{});this.publish(Z+am,{});this.publish(Z+i,{});this.publish(aC+i,{});this.publish(aC+aw,{});this.publish(aC+am,{});this._over=function(aL){switch(D+aL.currentTarget.get("id")){case p:if(!this.get("isDragging")){this.fire(av+am);}break;case aF:if(!this.get("isDragging")){this.fire(av+aw);}break;case m:if(!this.get("isDragging")){this.fire(av+ai);}break;}};this._out=function(aL){return;};ab.one(ap).delegate("hover",this._over,this._out,".sdt-active",this);},renderUI:function(){V=ab.one(aF);X=ab.Node.create(ad,V);V.append(X);ah=new ab.DD.Drag({node:D+N+f});ah.plug(ab.Plugin.DDConstrained,{constrain2node:ap});},bindUI:function(){ah.on("drag:start",this._onDragStart,this);ah.on("drag:drag",this._onDragDrag,this);ah.on("drag:end",this._onDragEnd,this);},syncUI:function(){ab.one(I).setStyle("display","block");},_onDragStart:function(h){e=ab.one(m);this.set(ar,true);switch(Q){case false:this.fire(v+n);e.setStyle(s,"none");case true:this.fire(v+ax);S=parseInt(V.getStyle(aA).toString().replace(ae,""),10);L=parseInt(V.getStyle(K).toString().replace(ae,""),10);Q=true;break;}},_onDragDrag:function(Y){aE=ab.one(p);V=ab.one(aF);var w=parseInt(Y.info.offset[0],10),h=parseInt(Y.info.offset[1],10);z=L-w;H=S+h;if(!aB){aB=this.get(az)-6-this.get(ag);}if(!O){O=this.get(u);}if(!k){k=this.get(an);}this._isPaneClosed(o,am,aB,z,true);this._isPaneClosed(A,aw,O,z,false);this._isPaneClosed(au,i,k,H,false);V.setStyle(K,z);V.setStyle(aA,H);aE.setStyle(K,t-z+ao);aE.setStyle(aA,H);},_onDragEnd:function(h){this.fire(v+C);this.set(ar,false);this._repositionHandle();},_getBaseUrl:function(){if(ab.config.modules){if(ab.config.modules[J]){if(ab.config.modules[J].gallery){return ab.Env.base+ab.config.modules[J].gallery+"/build/gallery-split-desktop/";}else{if(ab.config.modules[J].fullpath){var h=ab.config.modules[J].fullpath;return h.substring(0,h.lastIndexOf("/")+1);}else{if(ab.config.modules.base){return ab.config.modules.base;}}}}}else{if(ab.config.gallery){return ab.Env.base+ab.config.gallery+"/build/gallery-split-desktop/";}else{if(ab.config.fullpath){var h=ab.config.fullpath;return h.substring(0,h.lastIndexOf("/")+1);}else{return x;}}}},_getMain:function(){return ab.one(m);},_getSecondary:function(){return ab.one(p);},_getResizer:function(){return ab.one(aF);},_validateCloseCrownHeight:function(h){return(h>=this.get(R));},_validateCloseNWWidth:function(h){return(h>=0&&h<=parseInt(this.get(az).replace(ae,""),10)/4);},_validateCloseNEWidth:function(h){return(h>=0&&h<=parseInt(this.get(az).replace(ae,""),10)/4);
},_isPaneClosed:function(w,h,Y,aI,aH){if(!this.get(w)){if(this._evalLimits(Y<=aI,aH)){this.set(w,true);this.fire(Z+h);}}else{if(this._evalLimits(Y>aI,aH)){this.set(w,false);this.fire(aC+h);}}},_evalLimits:function(h,w){return w?h:!h;},_setCrownHeight:function(h){N=this.get(j);ab.one(D+N+aa.ne).setStyle(aA,h+ae);this._repositionHandle(h);},_repositionHandle:function(h){X.setStyle("left","0px");if(h){aE.setStyle(aA,h);}X.setStyle("bottom","0px");X.setStyle("top","");}});ab.namespace("Widget").SplitDesktop=g;},"@VERSION@",{requires:["widget","dd-constrain","event-hover"]});