YUI.add("gallery-split-desktop",function(aa){var ad="px",D="#",I="HTML",K="width",az="height",s="backgroundImage",d="backgroundPosition",P="assets/",x="/gallery-split-desktop/",J="gallery-split-desktop",au="enter",v="drag",X="close",aB="open",ah="Main",n="init",aw="start",C="end",i="Crown",av="NE",al="NW",t=960,U=150,ak=700,l=30,aE="drag-here.png",aC=P+aE,aj=162,M=7,q="center-handle.png",ac=null,f="handle",N="ea_",V='id="',F='" ',c="<img ",E='src="',y='" ',b="/>",a=D+"99cccc",ab="pix-blue.gif",ap=ab,Z={wrapper:"page_wrapper",crown:"crown",nw:"nw",nwbody:"body_nw",ne:"ne",borders:"borders",nebody:"body_ne",main:"main"},ay="pageWidth",ax="bordersColor",T="dragHereImg",G="pathToImages",ai="borderPixImg",ae="handleImg",r="dragHereLeft",B="dragHereTop",ar="mainHeight",Q="crownHeight",aq="isDragging",j="prefix",am="closeCrownHeight",af="closeNWWidth",u="closeNEWidth",at="isCloseCrown",o="isCloseNW",A="isCloseNE",aD=D+N+Z.ne,p=D+N+Z.nwbody,m=D+N+Z.main,ao=D+N+Z.wrapper,e=null,W=null,ag=null,R=false,z=0,H=0,L=0,S=0,an=5,O=null,aA=null,k=null;function g(h){g.superclass.constructor.apply(this,arguments);}g.NAME="splitDesktop";g.ATTRS={boundingBox:{value:I},contentBox:{value:"page_wrapper"},pageWidth:{value:t+ad},bodyHeight:{value:ak+ad},dragHereImg:{value:aE},pathToImages:{value:P},pathToStyles:{value:P},pointerLeftPos:{value:aj+ad},pointerTopPos:{value:M+ad},handleImage:{value:q},handleId:{value:f},dragHereImgPath:{value:aC},defaultPrefix:{value:N},mainDivId:{value:Z.main},bordersColor:{value:a},borderPixImg:{value:ap},handleImg:{value:q},dragHereLeft:{value:aj+ad},dragHereTop:{value:M+ad},mainHeight:{value:ak+ad},crownHeight:{value:l+ad,setter:"_setCrownHeight"},prefix:{value:N},baseUrl:{getter:"_getBaseUrl",lazyAdd:false},isDragging:{value:false},closeCrownHeight:{value:40,validator:"_validateCloseCrownHeight"},closeNWWidth:{value:30,validator:"_validateCloseNwWidth"},closeNEWidth:{value:30,validator:"_validateCloseNeWidth"},isCloseCrown:{value:false},isCloseNW:{value:false},isCloseNE:{value:false}};aa.extend(g,aa.Widget,{initializer:function(aF){var aI=this.get("baseUrl"),Y,w=aI+P+q,aG,h,aH;ac=c+V+N+f+F+E+w+y+b;this.resizerNode=aa.one(aD);W=aa.Node.create(ac,this.resizerNode);this.resizerNode.append(W);this.secondaryNode=aa.one(p);for(Y in aF){if(aF.hasOwnProperty(Y)){switch(Y){case ay:t=this.get(Y);aG=t-U;h=t+21;aa.one(D+N+Z.wrapper).setStyle("width",t+ad);aa.one(D+N+Z.ne).setStyle("width",aG+ad);aa.one(D+N+Z.main).setStyle("width",h+ad);break;case ax:aH=this.get(ax);aa.one(D+N+Z.borders).setStyle("borderLeftColor",aH).setStyle("borderBottomColor",aH);aa.one(D+N+Z.wrapper).setStyle("borderColor",aH);break;case T:case G:case ai:case ae:aC=this.get(G)+this.get(T);aa.one(D+N+Z.main).setStyle(s,'url("'+aC+'")');if(Y===ai||Y===G){ap=this.get(G)+this.get(ai);aa.one(D+N+Z.nw).setStyle(s,'url("'+ap+'")');}if(Y===ae||Y===G){N=this.get(j);w=this.get(G)+this.get(ae);ac=c+V+N+f+F+E+w+y+b;}break;case r:N=this.get(j);aa.one(D+N+Z.main).setStyle(d,this.get(r)+ad+" "+this.get(B)+ad);break;case B:N=this.get(j);aa.one(D+N+Z.main).setStyle(d,this.get(r)+ad+" "+this.get(B)+ad);break;case ar:N=this.get(j);aa.one(D+N+Z.main).setStyle(az,this.get(ar)+ad);break;case Q:N=this.get(j);aa.one(D+N+Z.ne).setStyle(az,this.get(Q)+ad);break;case j:N=this.get(j);aD=D+N+Z.ne;p=D+N+Z.nwbody;m=D+N+Z.main;ao=D+N+Z.wrapper;ac=c+V+N+f+F+E+w+y+b;break;}}}this.publish(au+ah,{bubbles:true,broadcast:2});this.publish(au+av,{bubbles:true,broadcast:2});this.publish(au+al,{bubbles:true,broadcast:2});this.publish(v+n,{});this.publish(v+aw,{});this.publish(v+C,{});this.publish(X+av,{});this.publish(X+al,{});this.publish(X+i,{});this.publish(aB+i,{});this.publish(aB+av,{});this.publish(aB+al,{});this._over=function(aJ){switch(D+aJ.currentTarget.get("id")){case p:if(!this.get(aq)){this.fire(au+al);}break;case aD:if(!this.get(aq)){this.fire(au+av);}break;case m:if(!this.get(aq)){this.fire(au+ah);}break;}};this._out=function(aJ){return;};aa.one(ao).delegate("hover",this._over,this._out,".sdt-active",this);},renderUI:function(){ag=new aa.DD.Drag({node:D+N+f});ag.plug(aa.Plugin.DDConstrained,{constrain2node:ao});},bindUI:function(){ag.on("drag:start",this._onDragStart,this);ag.on("drag:drag",this._onDragDrag,this);ag.on("drag:end",this._onDragEnd,this);},syncUI:function(){aa.one(I).setStyle("display","block");},_onDragStart:function(h){e=aa.one(m);this.set(aq,true);switch(R){case false:this.fire(v+n);e.setStyle(s,"none");case true:this.fire(v+aw);S=parseInt(this.resizerNode.getStyle(az).toString().replace(ad,""),10);L=parseInt(this.resizerNode.getStyle(K).toString().replace(ad,""),10);R=true;break;}},_onDragDrag:function(Y){var w=parseInt(Y.info.offset[0],10),h=parseInt(Y.info.offset[1],10);z=L-w;H=S+h;if(!aA){aA=this.get(ay)-6-this.get(af);}if(!O){O=this.get(u);}if(!k){k=this.get(am);}this._isPaneClosed(o,al,aA,z,true);this._isPaneClosed(A,av,O,z,false);this._isPaneClosed(at,i,k,H,false);this.resizerNode.setStyle(K,z);this.resizerNode.setStyle(az,H);this.secondaryNode.setStyle(K,t-z+an+ad);this.secondaryNode.setStyle(az,H+ad);},_onDragEnd:function(h){this.fire(v+C);this.set(aq,false);this._repositionHandle();},_getBaseUrl:function(){var h;if(aa.config.modules){if(aa.config.modules[J]){if(aa.config.modules[J].gallery){return aa.Env.base+aa.config.modules[J].gallery+"/build/gallery-split-desktop/";}else{if(aa.config.modules[J].fullpath){h=aa.config.modules[J].fullpath;return h.substring(0,h.lastIndexOf("/")+1);}else{if(aa.config.modules.base){return aa.config.modules.base;}}}}}else{if(aa.config.gallery){return aa.Env.base+aa.config.gallery+"/build/gallery-split-desktop/";}else{if(aa.config.fullpath){h=aa.config.fullpath;return h.substring(0,h.lastIndexOf("/")+1);}else{return x;}}}},_getMain:function(){return aa.one(m);},_getSecondary:function(){return aa.one(p);},_getResizer:function(){return aa.one(aD);},_validateCloseCrownHeight:function(h){return(h>=this.get(Q));},_validateCloseNWWidth:function(h){return(h>=0&&h<=parseInt(this.get(ay).replace(ad,""),10)/4);
},_validateCloseNEWidth:function(h){return(h>=0&&h<=parseInt(this.get(ay).replace(ad,""),10)/4);},_isPaneClosed:function(w,h,Y,aG,aF){if(!this.get(w)){if(this._evalLimits(Y<=aG,aF)){this.set(w,true);this.fire(X+h);}}else{if(this._evalLimits(Y>aG,aF)){this.set(w,false);this.fire(aB+h);}}},_evalLimits:function(h,w){return w?h:!h;},_setCrownHeight:function(h){N=this.get(j);aa.one(D+N+Z.ne).setStyle(az,h+ad);this._repositionHandle(h);},_repositionHandle:function(h){W.setStyle("left","0px");if(h){this.secondaryNode.setStyle(az,h+ad);}W.setStyle("bottom","0px");W.setStyle("top","");}});aa.namespace("Widget").SplitDesktop=g;},"@VERSION@",{requires:["widget","dd-constrain","event-hover"]});