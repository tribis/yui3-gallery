YUI.add("gallery-split-desktop",function(ac){var af="px",E="#",J="HTML",L="width",aB="height",s="backgroundImage",d="backgroundPosition",R="assets/",y="/gallery-split-desktop/",K="gallery-split-desktop",aw="enter",x="drag",aa="close",aD="open",aj="Main",n="init",ay="start",D="end",i="Crown",ax="NE",an="NW",aE="confirm",t=960,W=150,am=700,l=30,aH="drag-here.png",aF=R+aH,al=162,N=7,q="center-handle.png",ae=null,f="handle",O="ea_",X='id="',G='" ',c="<img ",F='src="',z='" ',b="/>",Q=' class="sdt-active" ',a=E+"99cccc",ad="pix-blue.gif",ar=ad,ab={wrapper:"page_wrapper",crown:"crown",nw:"nw",nwbody:"body_nw",ne:"ne",borders:"borders",nebody:"body_ne",main:"main"},aA="pageWidth",az="bordersColor",V="dragHereImg",H="pathToImages",ak="borderPixImg",ag="handleImg",r="dragHereLeft",C="dragHereTop",au="mainHeight",T="crownHeight",at="isDragging",u=false,j="prefix",ao="closeCrownHeight",ah="closeNWWidth",v="closeNEWidth",av="isCloseCrown",o="isCloseNW",B="isCloseNE",aG=E+O+ab.ne,p=E+O+ab.nwbody,m=E+O+ab.main,aq=E+O+ab.wrapper,e=null,Z=null,ai=null,S=false,A=0,I=0,M=0,U=0,ap=5,P=null,aC=null,k=null;function g(h){g.superclass.constructor.apply(this,arguments);}g.NAME="splitDesktop";g.ATTRS={boundingBox:{value:J},contentBox:{value:"page_wrapper"},pageWidth:{value:t+af},bodyHeight:{value:am+af},dragHereImg:{value:aH},pathToImages:{value:R},pathToStyles:{value:R},pointerLeftPos:{value:al+af},pointerTopPos:{value:N+af},handleImage:{value:q},handleId:{value:f},dragHereImgPath:{value:aF},defaultPrefix:{value:O},mainDivId:{value:ab.main},bordersColor:{value:a},borderPixImg:{value:ar},handleImg:{value:q},dragHereLeft:{value:al+af},dragHereTop:{value:N+af},mainHeight:{value:am+af},crownHeight:{value:l+af,setter:"_setCrownHeight"},prefix:{value:O},baseUrl:{getter:"_getBaseUrl",lazyAdd:false},isDragging:{value:false},closeCrownHeight:{value:40,validator:"_validateCloseCrownHeight"},closeNWWidth:{value:30,validator:"_validateCloseNwWidth"},closeNEWidth:{value:30,validator:"_validateCloseNeWidth"},isCloseCrown:{value:false},isCloseNW:{value:false},isCloseNE:{value:false}};ac.extend(g,ac.Widget,{initializer:function(aI){var aL=this.get("baseUrl"),Y,w=aL+R+q,aJ,h,aK;ae=c+X+O+f+G+Q+F+w+z+b;this.resizerNode=ac.one(aG);Z=ac.Node.create(ae,this.resizerNode);this.resizerNode.append(Z);this.secondaryNode=ac.one(p);for(Y in aI){if(aI.hasOwnProperty(Y)){switch(Y){case aA:t=this.get(Y);aJ=t-W;h=t+21;ac.one(E+O+ab.wrapper).setStyle("width",t+af);ac.one(E+O+ab.ne).setStyle("width",aJ+af);ac.one(E+O+ab.main).setStyle("width",h+af);break;case az:aK=this.get(az);ac.one(E+O+ab.borders).setStyle("borderLeftColor",aK).setStyle("borderBottomColor",aK);ac.one(E+O+ab.wrapper).setStyle("borderColor",aK);break;case V:case H:case ak:case ag:aF=this.get(H)+this.get(V);ac.one(E+O+ab.main).setStyle(s,'url("'+aF+'")');if(Y===ak||Y===H){ar=this.get(H)+this.get(ak);ac.one(E+O+ab.nw).setStyle(s,'url("'+ar+'")');}if(Y===ag||Y===H){O=this.get(j);w=this.get(H)+this.get(ag);ae=c+X+O+f+G+Q+F+w+z+b;}break;case r:O=this.get(j);ac.one(E+O+ab.main).setStyle(d,this.get(r)+af+" "+this.get(C)+af);break;case C:O=this.get(j);ac.one(E+O+ab.main).setStyle(d,this.get(r)+af+" "+this.get(C)+af);break;case au:O=this.get(j);ac.one(E+O+ab.main).setStyle(aB,this.get(au)+af);break;case T:O=this.get(j);ac.one(E+O+ab.ne).setStyle(aB,this.get(T)+af);break;case j:O=this.get(j);aG=E+O+ab.ne;p=E+O+ab.nwbody;m=E+O+ab.main;aq=E+O+ab.wrapper;ae=c+X+O+f+G+Q+F+w+z+b;break;}}}this.publish(aw,{broadcast:2,emitFacade:false});this.publish(aE,{broadcast:2,emitFacade:false});this.publish(x+n,{broadcast:2,emitFacade:false});this.publish(x+ay,{broadcast:2,emitFacade:false});this.publish(x+D,{broadcast:2,emitFacade:false});this.publish(aa+ax,{broadcast:2,emitFacade:false});this.publish(aa+an,{broadcast:2,emitFacade:false});this.publish(aa+i,{broadcast:2,emitFacade:false});this.publish(aD+i,{broadcast:2,emitFacade:false});this.publish(aD+ax,{broadcast:2,emitFacade:false});this.publish(aD+an,{broadcast:2,emitFacade:false});this._over=function(aN){var aM=O+f!==aN.relatedTarget.get("id")?true:false;if(!this.get(at)){switch(E+aN.currentTarget.get("id")){case p:if(aM){this.fire(aw,{t:an});}else{if(u){this.fire(aE,{t:an});}}break;case E+O+ab.borders:if(aM){this.fire(aw,{t:ax});}else{if(u){this.fire(aE,{t:ax});}}break;case m:if(aM){this.fire(aw,{t:aj});}else{if(u){this.fire(aE,{t:aj});}}break;case E+O+f:u=false;break;}}};this._out=function(aM){return;};ac.one(aq).delegate("hover",this._over,this._out,".sdt-active",this);},renderUI:function(){ai=new ac.DD.Drag({node:E+O+f});ai.plug(ac.Plugin.DDConstrained,{constrain2node:aq});},bindUI:function(){ai.on("drag:start",this._onDragStart,this);ai.on("drag:drag",this._onDragDrag,this);ai.on("drag:end",this._onDragEnd,this);},syncUI:function(){ac.one(J).setStyle("display","block");},_onDragStart:function(h){e=ac.one(m);this.set(at,true);switch(S){case false:this.fire(x+n);e.setStyle(s,"none");case true:this.fire(x+ay);U=parseInt(this.resizerNode.getStyle(aB).toString().replace(af,""),10);M=parseInt(this.resizerNode.getStyle(L).toString().replace(af,""),10);S=true;break;}},_onDragDrag:function(Y){var w=parseInt(Y.info.offset[0],10),h=parseInt(Y.info.offset[1],10);A=M-w;I=U+h;if(!aC){aC=this.get(aA)-6-this.get(ah);}if(!P){P=this.get(v);}if(!k){k=this.get(ao);}this._isPaneClosed(o,an,aC,A,true);this._isPaneClosed(B,ax,P,A,false);this._isPaneClosed(av,i,k,I,false);this.resizerNode.setStyle(L,A);this.resizerNode.setStyle(aB,I);this.secondaryNode.setStyle(L,t-A+ap+af);this.secondaryNode.setStyle(aB,I+af);},_onDragEnd:function(h){U=parseInt(this.resizerNode.getStyle(aB).toString().replace(af,""),10);M=parseInt(this.resizerNode.getStyle(L).toString().replace(af,""),10);this.fire(x+D,{x:M,y:U});u=true;this.set(at,false);this._repositionHandle();},_getBaseUrl:function(){var h;if(ac.config.modules){if(ac.config.modules[K]){if(ac.config.modules[K].gallery){return ac.Env.base+ac.config.modules[K].gallery+"/build/gallery-split-desktop/";}else{if(ac.config.modules[K].fullpath){h=ac.config.modules[K].fullpath;
return h.substring(0,h.lastIndexOf("/")+1);}else{if(ac.config.modules.base){return ac.config.modules.base;}}}}}else{if(ac.config.gallery){return ac.Env.base+ac.config.gallery+"/build/gallery-split-desktop/";}else{if(ac.config.fullpath){h=ac.config.fullpath;return h.substring(0,h.lastIndexOf("/")+1);}else{return y;}}}},_getMain:function(){return ac.one(m);},_getSecondary:function(){return ac.one(p);},_getResizer:function(){return ac.one(aG);},_validateCloseCrownHeight:function(h){return(h>=this.get(T));},_validateCloseNWWidth:function(h){return(h>=0&&h<=parseInt(this.get(aA).replace(af,""),10)/4);},_validateCloseNEWidth:function(h){return(h>=0&&h<=parseInt(this.get(aA).replace(af,""),10)/4);},_isPaneClosed:function(w,h,Y,aJ,aI){if(!this.get(w)){if(this._evalLimits(Y<=aJ,aI)){this.set(w,true);this.fire(aa+h);}}else{if(this._evalLimits(Y>aJ,aI)){this.set(w,false);this.fire(aD+h);}}},_evalLimits:function(h,w){return w?h:!h;},_setCrownHeight:function(h){O=this.get(j);ac.one(E+O+ab.ne).setStyle(aB,h+af);this._repositionHandle(h);},_repositionHandle:function(h){Z.setStyle("left","0px");if(h){this.secondaryNode.setStyle(aB,h+af);}Z.setStyle("bottom","0px");Z.setStyle("top","");}});ac.namespace("Widget").SplitDesktop=g;},"@VERSION@",{requires:["widget","dd-constrain","event-hover"]});