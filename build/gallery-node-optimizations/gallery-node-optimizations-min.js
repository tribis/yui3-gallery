YUI.add("gallery-node-optimizations",function(f){var e=/^([a-z]*)\.([-_a-z0-9]+)$/i;var g=/^\.([-_a-z0-9]+)$/i;var a=/^[a-z]+$/i;var b=f.Node.prototype.ancestor;f.Node.prototype.ancestor=function(i,j){if(f.Lang.isString(i)){var h=g.exec(i);if(h&&h.length){return this.getAncestorByClassName(h[1],j);}if(a.test(i)){return this.getAncestorByTagName(i,j);}}return b.apply(this,arguments);};f.Node.prototype.getAncestorByClassName=function(i,h){var j=this._node;if(!h){j=j.parentNode;}while(j&&!f.DOM.hasClass(j,i)){j=j.parentNode;if(!j||!j.tagName){return null;}}return f.one(j);};f.Node.prototype.getAncestorByTagName=function(j,h){var i=this._node;if(!h){i=i.parentNode;}j=j.toLowerCase();while(i&&i.tagName.toLowerCase()!=j){i=i.parentNode;if(!i||!i.tagName){return null;}}return f.one(i);};var c=f.Node.prototype.one;f.Node.prototype.one=function(i){if(f.Lang.isString(i)){var h=e.exec(i);if(h&&h.length){return this.getFirstElementByClassName(h[2],h[1]);}if(a.test(i)){return this.getElementsByTagName(i).item(0);}}return c.apply(this,arguments);};var d=f.Node.prototype.all;f.Node.prototype.all=function(i){if(f.Lang.isString(i)){var h=e.exec(i);if(h&&h.length){return this.getElementsByClassName(h[2],h[1]);}if(a.test(i)){return this.getElementsByTagName(i);}}return d.apply(this,arguments);};f.Node.prototype.getElementsByClassName=function(l,n){var o=this.getElementsByTagName(n||"*");var k=new f.NodeList();var j=o.size();for(var h=0;h<j;h++){var m=o.item(h);if(f.DOM.hasClass(f.Node.getDOMNode(m),l)){k.push(m);}}return k;};f.Node.prototype.getFirstElementByClassName=function(k,m){var n=this.getElementsByTagName(m||"*");var j=n.size();for(var h=0;h<j;h++){var l=n.item(h);if(f.DOM.hasClass(f.Node.getDOMNode(l),k)){return l;}}return null;};},"gallery-2012.01.04-22-09",{requires:["node-base"]});