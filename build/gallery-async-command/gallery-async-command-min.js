YUI.add("gallery-async-command",function(a){(function(d){var e,b=d.Lang.isArray,c;c=d.extend(function(f){c.superclass.constructor.call(this,f);},d.Base,{initializer:function(){var f=this;f.publish("complete",{defaultFn:function(){f._set("completed",true);},fireOnce:true});f.publish("failure",{defaultFn:function(h){var g=h.error;f._set("error",g);f._set("failed",true);f.fire("complete",{error:g,failed:true});},fireOnce:true});f.publish("start",{defaultFn:function(){f._set("started",true);f.get("fn").apply(f.get("ctx"),f.get("args"));},fireOnce:true});f.publish("success",{defaultFn:function(g){var h=g.value;f._set("value",h);f.fire("complete",{failed:false,value:h});},fireOnce:true});f.get("args").unshift(e(f));},run:function(){this.fire("start");return this;}},{ATTRS:{args:{setter:function(f){if(!b(f)){f=[f];}return f;},value:[],writeOnce:"initOnly"},completed:{readOnly:true,value:false},ctx:{writeOnce:"initOnly"},error:{readOnly:true},failed:{readOnly:true,value:false},fn:{value:function(f){f();},writeOnce:"initOnly"},started:{readOnly:true,value:false},value:{readOnly:true}},NAME:"async-command"});e=function(g){var f=function(h){g.fire("success",{value:h});};f.fail=function(h){g.fire("failure",{error:h});};return f;};d.AsyncCommand=c;}(a));},"gallery-2012.01.11-21-03",{requires:["base"],skinnable:false});